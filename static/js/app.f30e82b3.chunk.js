(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{90:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(0),i=n(40),a=n(85),u=n(4),o=n(28),c=n.n(o),d=n(8),h=n(9),l=n(13),s=Object(r.forwardRef)((function(e,t){var n=e.renderCell,i=e.column,a=e.row,u=e.coordinate,o=Object(r.useState)({rowIndex:a.rowIndex,columnIndex:i.columnIndex}),h=c()(o,2),s=h[0],f=h[1];return Object(r.useImperativeHandle)(t,(function(){return{update:function(e){f(e)}}}),[]),Object(l.jsx)(d.a.View,{style:{position:"absolute",width:i.widthAnimated,zIndex:(i.freezed?1:0)+(a.freezed?1:0),height:a.heightAnimated,transform:[{translateX:i.freezed?i.xAnimated:d.a.add(i.xAnimated,u.x)},{translateY:a.freezed?a.yAnimated:d.a.add(a.yAnimated,u.y)}]},children:n(s)})})),f=n(16),m=n.n(f),x=n(17),g=n.n(x),w=(function(){function e(){var t=this;m()(this,e),this.move=function(e){var n=Math.min(0,Math.max(t.minX,t.x-e.deltaX)),r=Math.min(0,Math.max(t.minY,t.y-e.deltaY));t.xAnimated.setValue(n),t.yAnimated.setValue(r)},this.xAnimated=new d.a.Value(0),this.yAnimated=new d.a.Value(0),this.containerWidthAnimated=new d.a.Value(0),this.containerHeightAnimated=new d.a.Value(0),this.contentWidthAnimated=new d.a.Value(0),this.contentHeightAnimated=new d.a.Value(0),this.minXAnimated=d.a.subtract(this.containerWidthAnimated,this.contentWidthAnimated),this.minYAnimated=d.a.subtract(this.containerWidthAnimated,this.contentWidthAnimated)}g()(e,[{key:"minX",get:function(){return JSON.parse(JSON.stringify(this.minXAnimated))}},{key:"minY",get:function(){return JSON.parse(JSON.stringify(this.minYAnimated))}},{key:"x",get:function(){return JSON.parse(JSON.stringify(this.xAnimated))}},{key:"y",get:function(){return JSON.parse(JSON.stringify(this.yAnimated))}},{key:"contentWidth",get:function(){return JSON.parse(JSON.stringify(this.contentWidthAnimated))}},{key:"contentHeight",get:function(){return JSON.parse(JSON.stringify(this.contentHeightAnimated))}},{key:"containerWidth",get:function(){return JSON.parse(JSON.stringify(this.containerWidthAnimated))}},{key:"containerHeight",get:function(){return JSON.parse(JSON.stringify(this.containerHeightAnimated))}}])}(),function(){function e(t){var n=t.x,r=t.width,i=t.columnIndex,a=t.freezed,u=void 0!==a&&a;m()(this,e),this.xAnimated=new d.a.Value(n),this.widthAnimated=new d.a.Value(r),this.columnIndex=i,this.freezed=u}return g()(e,[{key:"x",get:function(){return JSON.parse(JSON.stringify(this.xAnimated))}},{key:"width",get:function(){return JSON.parse(JSON.stringify(this.widthAnimated))}}]),e}()),y=function(){function e(t){var n=t.y,r=t.height,i=t.rowIndex,a=t.freezed,u=void 0!==a&&a;m()(this,e),this.yAnimated=new d.a.Value(n),this.heightAnimated=new d.a.Value(r),this.rowIndex=i,this.freezed=u}return g()(e,[{key:"y",get:function(){return JSON.parse(JSON.stringify(this.yAnimated))}},{key:"height",get:function(){return JSON.parse(JSON.stringify(this.heightAnimated))}}]),e}(),v=function(){function e(t){var n=t.column,i=t.row;m()(this,e),this.column=n,this.row=i,this.ref=Object(r.createRef)()}return g()(e,[{key:"x",get:function(){return this.column.x}},{key:"y",get:function(){return this.row.y}},{key:"width",get:function(){return this.column.width}},{key:"height",get:function(){return this.row.height}}]),e}();function b(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e){var t,n,i,a,o=e.style,f=e.columnCount,m=e.rowCount,x=e.renderCell,g=e.getColumnWidth,I=void 0===g?function(){return 100}:g,O=e.getRowHeight,A=void 0===O?function(){return 40}:O,p=e.showColumnLine,j=void 0!==p&&p,S=e.showRowLine,N=void 0!==S&&S,J=e.freezedColumns,C=void 0===J?{}:J,k=e.freezedRows,V=void 0===k?{}:k,z=Object(r.useRef)(null),R=Object(r.useState)(0),X=c()(R,2),W=X[0],Y=X[1],E=Object(r.useRef)([]),H=Object(r.useRef)([]),M=Object(r.useRef)([]),F=null!=(t=C.start)?t:0,L=(n=C.end,null!=(i=V.start)?i:0),T=(a=V.end,Object(r.useRef)(new d.a.ValueXY({x:0,y:0}))),_=Object(r.useRef)(new d.a.ValueXY({x:0,y:0})),G=Object(r.useCallback)((function(){for(var e=E.current[0],t=E.current[0],n=H.current[0],r=H.current[0],i=0;i<E.current.length;i++){var a=E.current[i];a.freezed||(e.freezed?e=a:(a.columnIndex<e.columnIndex&&(e=a),a.columnIndex>t.columnIndex&&(t=a)))}for(var u=0;u<H.current.length;u++){var o=H.current[u];o.freezed||(n.freezed?n=o:(o.rowIndex<n.rowIndex&&(n=o),o.rowIndex>r.rowIndex&&(r=o)))}return{minColumn:e,minRow:n,maxColumn:t,maxRow:r}}),[]),q=Object(r.useCallback)((function(e){var t,n,r=e.nativeEvent.layout;_.current.setValue({x:r.width,y:r.height});for(var i,a=0,u=0,o=b(E.current);!(i=o()).done;){a+=i.value.width}for(var c,d=b(H.current);!(c=d()).done;){u+=c.value.height}for(var h=G(),l=h.maxRow,s=h.maxColumn,f=null!=(t=null==l?void 0:l.rowIndex)?t:-1;u<r.height;){f++;var m=A({rowIndex:f});if(u+=m,0===H.current.length)H.current.push(new y({y:0,height:m,rowIndex:f,freezed:f<L}));else{var x=H.current[H.current.length-1];H.current.push(new y({y:x.y+x.height,height:m,rowIndex:f,freezed:f<L}))}}for(var g=null!=(n=null==s?void 0:s.columnIndex)?n:-1;a<r.width;){g++;var O=I({columnIndex:g});if(a+=O,0===E.current.length)E.current.push(new w({x:0,width:O,columnIndex:g,freezed:g<F}));else{var p=E.current[E.current.length-1];E.current.push(new w({width:O,x:p.x+p.width,columnIndex:g,freezed:g<F}))}}for(var j=L+1;j>0;){f++;var S=A({rowIndex:f}),N=H.current[H.current.length-1];H.current.push(new y({y:N.y+N.height,height:S,rowIndex:f})),j--}for(var J=F+1;J>0;){g++;var C=E.current[E.current.length-1],k=I({columnIndex:g});E.current.push(new w({width:k,x:C.x+C.width,columnIndex:g})),J--}M.current=[];for(var V=0;V<H.current.length;V++)for(var z=H.current[V],R=0;R<E.current.length;R++){var X=E.current[R];M.current.push(new v({column:X,row:z}))}Y((function(e){return e+1}))}),[I,A,G,F,L]),U=Object(r.useCallback)((function(e){var t=JSON.parse(JSON.stringify(T.current)),n=t.x,r=t.y,i=JSON.parse(JSON.stringify(_.current)),a=i.x,u=i.y,o=!1,c={deltaX:0,deltaY:0},d=G(),h=d.minColumn,l=d.maxColumn,s=d.minRow,x=d.maxRow,g=e.deltaX,w=e.deltaY,y=l.columnIndex,v=l.x+l.width+n-a,O=x.rowIndex,p=x.y+x.height+r-u;if(g>0){for(;g>v&&y!==f;){if(++y-l.columnIndex>=E.current.length-2){o=!0;break}v+=I({columnIndex:y})}g=Math.min(v,g),o&&(c.deltaX=e.deltaX-g)}if(w>0){for(;w>p&&O!==m;){if(++O-x.rowIndex>=H.current.length-2){o=!0;break}p+=A({rowIndex:O})}w=Math.min(p,w),o&&(c.deltaY=e.deltaY-w)}n-g>0&&(g=n),r-w>0&&(w=r);var j=n-g,S=r-w;T.current.setValue({x:j,y:S});var N=[],J=[],C=[];if(g>0){for(var k=0;k<E.current.length;k++){var V=E.current[k];!V.freezed&&V.x+j+V.width<F&&N.push(V)}if(N.length===E.current.length&&console.error("This shoud not happen"),N.length>0)for(var z=0;z<N.length;z++){var R=N[z];R.xAnimated.setValue(l.x+l.width),R.columnIndex=l.columnIndex+1;var X=I(R);R.widthAnimated.setValue(X),l=R}}if(g<0){for(var W=0;W<E.current.length;W++){var Y=E.current[W],q=Y.x;!Y.freezed&&q+j>a&&N.unshift(Y)}if(N.length>0)for(var $=0;$<N.length&&0!==h.columnIndex;$++){var B=N[$];B.columnIndex=h.columnIndex-1;var D=I(B);B.widthAnimated.setValue(D),B.xAnimated.setValue(h.x-D),h=B}}if(w>0){for(var K=0;K<H.current.length;K++){var P=H.current[K];!P.freezed&&P.y+S+P.height<L&&J.push(P)}if(J.length===H.current.length&&console.error("Warning: This shoud not happen"),J.length>0)for(var Q=0;Q<J.length;Q++){var Z=J[Q];Z.rowIndex=x.rowIndex+1,Z.yAnimated.setValue(x.y+x.height);var ee=A(Z);Z.heightAnimated.setValue(ee),x=Z}}if(w<0){for(var te=0;te<H.current.length;te++){var ne=H.current[te];!ne.freezed&&ne.y+S>u&&J.unshift(ne)}if(J.length>0)for(var re=0;re<J.length&&0!==s.rowIndex;re++){var ie=J[re];ie.rowIndex=s.rowIndex-1;var ae=A(ie);ie.heightAnimated.setValue(ae),ie.yAnimated.setValue(s.y-ie.height),s=ie}}for(var ue=0;ue<M.current.length;ue++){var oe=M.current[ue];C.includes(oe)||(N.includes(oe.column)||J.includes(oe.row))&&C.push(oe)}if(!o)for(var ce,de=b(C);!(ce=de()).done;){var he=ce.value;he.ref.current.update({rowIndex:he.row.rowIndex,columnIndex:he.column.columnIndex})}o&&requestAnimationFrame((function(){U(c)}))}),[I,G,f,m,A,F,L]),$=Object(r.useCallback)((function(e){var t=e.deltaX,n=e.deltaY;U({deltaX:t,deltaY:n})}),[U]);return Object(r.useEffect)((function(){if("web"===h.a.OS){var e=z.current;return e.addEventListener("wheel",$),function(){e.removeEventListener("wheel",$)}}}),[$]),Object(l.jsxs)(u.a,{ref:z,style:[o,{overflow:"hidden"}],onLayout:q,children:[j&&Object(l.jsx)(r.Fragment,{children:E.current.map((function(e,t){return Object(l.jsx)(d.a.View,{style:{position:"absolute",width:1,backgroundColor:"#ccc",transform:[{translateX:d.a.add(e.xAnimated,T.current.x)}],height:_.current.y}},t)}))},"columns-"+W),N&&Object(l.jsx)(r.Fragment,{children:H.current.map((function(e,t){return Object(l.jsx)(d.a.View,{style:{position:"absolute",backgroundColor:"#ccc",transform:[{translateY:d.a.add(e.yAnimated,T.current.y)}],width:_.current.x,height:1}},t)}))},"rows-"+W),Object(l.jsx)(r.Fragment,{children:M.current.map((function(e,t){return Object(l.jsx)(s,{coordinate:T.current,ref:e.ref,column:e.column,row:e.row,renderCell:x},t)}))},"cells-"+W)]})}function A(){var e=Object(a.a)(),t=e.width,n=e.height;return Object(l.jsx)(O,{columnCount:Number.MAX_SAFE_INTEGER,rowCount:Number.MAX_SAFE_INTEGER,freezedColumns:{start:3},freezedRows:{start:3},style:{borderWidth:1,borderColor:"#000",width:t,height:n},getColumnWidth:function(e){return[100,140,200,120][e.columnIndex%4]},getRowHeight:function(e){return[40,50,60,90,40,45,40,50,55,50,60][e.rowIndex%10]},renderCell:function(e){return Object(l.jsxs)(u.a,{style:{flex:1,backgroundColor:(e.rowIndex+e.columnIndex)%2===1?"#eee":"#fff",borderTopWidth:1,borderLeftWidth:1,borderColor:"#ccc",padding:4},children:[Object(l.jsxs)(i.a,{children:["c: ",e.columnIndex]}),Object(l.jsxs)(i.a,{children:["r: ",e.rowIndex]})]})}})}},91:function(e,t,n){e.exports=n(116)}},[[91,1,2]]]);
//# sourceMappingURL=app.f30e82b3.chunk.js.map