(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{109:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var r=n(0),o=n(6),i=n(11),a=n(23),u=n(108),c=n(3),l=n(144),d=n(68),s=n(69),h=n(2);function f(){return Object(h.jsxs)(c.a,{style:{height:56,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(h.jsx)(c.a,{style:{paddingLeft:20},children:Object(h.jsx)(a.a,{style:{fontWeight:"bold",fontSize:20},children:"React Native Virtualized Grid"})}),Object(h.jsxs)(c.a,{style:{paddingRight:20,flexDirection:"row",alignItems:"center"},children:[Object(h.jsx)(d.a,{style:{marginRight:12},onPress:function(){s.a.openURL("https://twitter.com/770hz")},children:Object(h.jsx)(l.a,{name:"twitter",size:24,color:"#1d9bf0"})}),Object(h.jsx)(d.a,{onPress:function(){s.a.openURL("https://github.com/heineiuo/react-native-virtualized-grid")},children:Object(h.jsx)(l.a,{name:"github",size:24,color:"black"})})]})]})}var m=n(12),g=n.n(m),b=n(40),y=n.n(b),w=n(30);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=Object(r.forwardRef)((function(e,t){var n=e.renderCell,i=e.column,a=e.row,u=e.coordinate,c=Object(r.useState)({rowIndex:a.rowIndex,columnIndex:i.columnIndex}),l=y()(c,2),d=l[0],s=l[1];return Object(r.useImperativeHandle)(t,(function(){return{update:function(e){s(e)}}}),[]),Object(h.jsx)(o.a.View,{style:{position:"absolute",width:i.widthAnimated,zIndex:o.a.add(i.zIndexAnimated,a.zIndexAnimated),height:a.heightAnimated,transform:[{translateX:i.freezed?i.xAnimated:o.a.add(i.xAnimated,u.x)},{translateY:a.freezed?a.yAnimated:o.a.add(a.yAnimated,u.y)}]},children:n(x(x({},d),{},{column:i,row:a}))})})),v=Object(r.createContext)({}),j=function(){return Object(r.useContext)(v)},I=n(15),A=n.n(I),S=n(16),C=n.n(S);!function(){function e(){var t=this;A()(this,e),this.move=function(e){var n=Math.min(0,Math.max(t.minX,t.x-e.deltaX)),r=Math.min(0,Math.max(t.minY,t.y-e.deltaY));t.xAnimated.setValue(n),t.yAnimated.setValue(r)},this.xAnimated=new o.a.Value(0),this.yAnimated=new o.a.Value(0),this.containerWidthAnimated=new o.a.Value(0),this.containerHeightAnimated=new o.a.Value(0),this.contentWidthAnimated=new o.a.Value(0),this.contentHeightAnimated=new o.a.Value(0),this.minXAnimated=o.a.subtract(this.containerWidthAnimated,this.contentWidthAnimated),this.minYAnimated=o.a.subtract(this.containerWidthAnimated,this.contentWidthAnimated)}C()(e,[{key:"minX",get:function(){return JSON.parse(JSON.stringify(this.minXAnimated))}},{key:"minY",get:function(){return JSON.parse(JSON.stringify(this.minYAnimated))}},{key:"x",get:function(){return JSON.parse(JSON.stringify(this.xAnimated))}},{key:"y",get:function(){return JSON.parse(JSON.stringify(this.yAnimated))}},{key:"contentWidth",get:function(){return JSON.parse(JSON.stringify(this.contentWidthAnimated))}},{key:"contentHeight",get:function(){return JSON.parse(JSON.stringify(this.contentHeightAnimated))}},{key:"containerWidth",get:function(){return JSON.parse(JSON.stringify(this.containerWidthAnimated))}},{key:"containerHeight",get:function(){return JSON.parse(JSON.stringify(this.containerHeightAnimated))}}])}();var R=function(){function e(t){var n=t.x,r=t.width,i=t.columnIndex,a=t.freezed,u=void 0!==a&&a;A()(this,e),this.xAnimated=new o.a.Value(n),this.widthAnimated=new o.a.Value(r),this.columnIndex=i,this.freezed=u,this.zIndexAnimated=new o.a.Value(u?1:0),this.highlightOpacityAnimated=new o.a.Value(0)}return C()(e,[{key:"x",get:function(){return JSON.parse(JSON.stringify(this.xAnimated))}},{key:"width",get:function(){return JSON.parse(JSON.stringify(this.widthAnimated))}}]),e}(),P=function(){function e(t){var n=t.y,r=t.height,i=t.rowIndex,a=t.freezed,u=void 0!==a&&a;A()(this,e),this.yAnimated=new o.a.Value(n),this.heightAnimated=new o.a.Value(r),this.rowIndex=i,this.freezed=u,this.zIndexAnimated=new o.a.Value(u?1:0),this.highlightOpacityAnimated=new o.a.Value(0)}return C()(e,[{key:"y",get:function(){return JSON.parse(JSON.stringify(this.yAnimated))}},{key:"height",get:function(){return JSON.parse(JSON.stringify(this.heightAnimated))}}]),e}(),k=function(){function e(t){var n=t.column,o=t.row;A()(this,e),this.column=n,this.row=o,this.ref=Object(r.createRef)()}return C()(e,[{key:"x",get:function(){return this.column.x}},{key:"y",get:function(){return this.row.y}},{key:"width",get:function(){return this.column.width}},{key:"height",get:function(){return this.row.height}}]),e}();function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){var t,n,a,u,l=e.style,d=e.columnCount,s=e.rowCount,f=e.renderCell,m=e.onChangeColumn,g=void 0===m?function(e){}:m,b=e.onChangeRow,O=void 0===b?function(e){}:b,x=e.getColumnWidth,j=void 0===x?function(){return 100}:x,I=e.getRowHeight,A=void 0===I?function(){return 40}:I,S=e.showColumnLine,C=void 0!==S&&S,V=e.showRowLine,J=void 0!==V&&V,M=e.freezedColumns,E=void 0===M?{}:M,D=e.freezedRows,X=void 0===D?{}:D,W=e.onChangeColumnOrder,Y=void 0===W?function(){}:W,T=e.onChangeRowOrder,H=void 0===T?function(){}:T,F=Object(r.useRef)(null),L=Object(r.useState)(0),G=y()(L,2),U=G[0],q=G[1],$=Object(r.useRef)([]),_=Object(r.useRef)([]),B=Object(r.useRef)([]),K=null!=(t=E.start)?t:0,Q=(n=E.end,null!=(a=X.start)?a:0),Z=(u=X.end,Object(r.useRef)(new o.a.ValueXY({x:0,y:0}))),ee=Object(r.useRef)(new o.a.ValueXY({x:0,y:0})),te=Object(r.useCallback)((function(){for(var e=$.current[0],t=$.current[0],n=_.current[0],r=_.current[0],o=0,i=0,a=0;a<$.current.length;a++){var u=$.current[a];u.freezed?o+=u.width:((e.freezed||u.columnIndex<e.columnIndex)&&(e=u),(t.freezed||u.columnIndex>t.columnIndex)&&(t=u))}for(var c=0;c<_.current.length;c++){var l=_.current[c];l.freezed?i+=l.height:((n.freezed||l.rowIndex<n.rowIndex)&&(n=l),(r.freezed||l.rowIndex>r.rowIndex)&&(r=l))}return{minColumn:e,minRow:n,maxColumn:t,maxRow:r,freezedStartRowHeight:i,freezedStartColumnWidth:o}}),[]),ne=Object(r.useCallback)((function(e){var t,n,r=JSON.parse(JSON.stringify(ee.current)),o=r.x,i=r.y,a=e.nativeEvent.layout,u=a.width,c=a.height;ee.current.setValue({x:u,y:c});var l=te(),h=l.minRow,f=l.minColumn,m=l.maxRow,g=l.maxColumn,b=0,y=0;if($.current.length>0&&_.current.length>0){if(o>=u&&i>=c)return;if(b=g.x-f.x+g.width,y=m.y-h.y+m.height,b>=u&&y>=c)return}for(var w=null!=(t=null==m?void 0:m.rowIndex)?t:-1;y<c&&!(w>=s-1);){w++;var O=A({rowIndex:w});if(y+=O,0===_.current.length)_.current.push(new P({y:0,height:O,rowIndex:w,freezed:w<Q}));else{var x=_.current[_.current.length-1];_.current.push(new P({y:x.y+x.height,height:O,rowIndex:w,freezed:w<Q}))}}for(var p=null!=(n=null==g?void 0:g.columnIndex)?n:-1;b<u&&!(p>=d-1);){p++;var v=j({columnIndex:p});if(b+=v,0===$.current.length)$.current.push(new R({x:0,width:v,columnIndex:p,freezed:p<K}));else{var I=$.current[$.current.length-1];$.current.push(new R({width:v,x:I.x+I.width,columnIndex:p,freezed:p<K}))}}for(var S=Q+1;S>0&&!(w>=s-1);){w++;var C=A({rowIndex:w}),V=_.current[_.current.length-1];_.current.push(new P({y:V.y+V.height,height:C,rowIndex:w})),S--}for(var z=K+1;z>0&&!(p>=d-1);){p++;var N=$.current[$.current.length-1],J=j({columnIndex:p});$.current.push(new R({width:J,x:N.x+N.width,columnIndex:p})),z--}B.current=[];for(var M=0;M<_.current.length;M++)for(var E=_.current[M],D=0;D<$.current.length;D++){var X=$.current[D];B.current.push(new k({column:X,row:E}))}q((function(e){return e+1}))}),[s,d,j,A,te,K,Q]),re=Object(r.useMemo)((function(){var e=null;return function(t){var n=t.nativeEvent.layout;e&&clearTimeout(e),e=setTimeout((function(){ne({nativeEvent:{layout:n}})}),500)}}),[ne]),oe=Object(r.useCallback)((function(e){var t=JSON.parse(JSON.stringify(Z.current)),n=t.x,r=t.y,o=JSON.parse(JSON.stringify(ee.current)),i=o.x,a=o.y,u=!1,c={deltaX:0,deltaY:0},l=te(),h=l.minColumn,f=l.maxColumn,m=l.minRow,g=l.maxRow,b=l.freezedStartRowHeight,y=l.freezedStartColumnWidth;if(h&&f&&m&&g){f.columnIndex;var w=e.deltaX,O=e.deltaY,x=f.columnIndex,p=h.columnIndex,v=g.rowIndex,I=m.rowIndex;if(w<0){for(var S=n+h.x-i;w<S&&0!==p;){if(p--,h.columnIndex-p>=$.current.length-2){u=!0;break}S+=j({columnIndex:p})}w=Math.max(S,w),u&&(c.deltaX=e.deltaX-w)}if(w>0){for(var C=f.x+f.width+n-i;w>C&&!(x>=d-1);){if(++x-f.columnIndex>=$.current.length-2){u=!0;break}C+=j({columnIndex:x})}w=Math.min(C,w),u&&(c.deltaX=e.deltaX-w)}if(O<0){for(var R=r+m.y-a;O<R&&0!==I;){if(I--,m.rowIndex-I>=_.current.length-2){u=!0;break}R+=A({rowIndex:I})}O=Math.max(R,O),u&&(c.deltaY=e.deltaY-O)}if(O>0){for(var P=g.y+g.height+r-a;O>P&&!(v>=s-1);){if(++v-g.rowIndex>=_.current.length-2){u=!0;break}P+=A({rowIndex:v})}O=Math.min(P,O),u&&(c.deltaY=e.deltaY-O)}if(n-w>0&&(w=n),r-O>0&&(O=r),0!==w||0!==O){var k=n-w,V=r-O;Z.current.setValue({x:k,y:V});var z=[],J=[],M=[];if(w>0){for(var E=0;E<$.current.length;E++){var D=$.current[E];if(!D.freezed)D.x+D.width+k<y&&z.push(D)}if(z.length===$.current.length&&console.error("This shoud not happen"),z.length>0)for(var X=0;X<z.length;X++){var W=z[X];if(f.columnIndex===d-1){0;break}W.xAnimated.setValue(f.x+f.width),W.columnIndex=f.columnIndex+1;var Y=j(W);W.widthAnimated.setValue(Y),f=W}}if(w<0){for(var T=0;T<$.current.length;T++){var H=$.current[T];if(!H.freezed)H.x+k>i&&z.unshift(H)}if(z.length>0)for(var F=0;F<z.length&&!(h.columnIndex<=K);F++){var L=z[F];L.columnIndex=h.columnIndex-1;var G=j(L);L.widthAnimated.setValue(G),L.xAnimated.setValue(h.x-G),h=L}}if(O>0){for(var U=0;U<_.current.length;U++){var q=_.current[U];if(!q.freezed)q.y+q.height+V<b&&J.push(q)}if(J.length===_.current.length&&console.error("Warning: This shoud not happen"),J.length>0)for(var ne=0;ne<J.length;ne++){var re=J[ne];if(g.rowIndex===s-1)break;re.rowIndex=g.rowIndex+1,re.yAnimated.setValue(g.y+g.height);var ie=A(re);re.heightAnimated.setValue(ie),g=re}}if(O<0){for(var ae=0;ae<_.current.length;ae++){var ue=_.current[ae];if(!ue.freezed)ue.y+V>a&&J.unshift(ue)}if(J.length>0)for(var ce=0;ce<J.length&&!(m.rowIndex<=Q);ce++){var le=J[ce];le.rowIndex=m.rowIndex-1;var de=A(le);le.heightAnimated.setValue(de),le.yAnimated.setValue(m.y-le.height),m=le}}for(var se=0;se<B.current.length;se++){var he=B.current[se];M.includes(he)||(z.includes(he.column)||J.includes(he.row))&&M.push(he)}if(!u)for(var fe,me=N(M);!(fe=me()).done;){var ge=fe.value;ge.ref.current.update({rowIndex:ge.row.rowIndex,columnIndex:ge.column.columnIndex})}u&&requestAnimationFrame((function(){oe(c)}))}}}),[j,te,K,Q,d,s,A]),ie=Object(r.useCallback)((function(e){var t=e.deltaX,n=e.deltaY;oe({deltaX:t,deltaY:n})}),[oe]);Object(r.useEffect)((function(){if("web"===i.a.OS){var e=F.current;return e.addEventListener("wheel",ie),function(){e.removeEventListener("wheel",ie)}}}),[ie]);var ae=Object(r.useMemo)((function(){var e=null;return w.a.create({onPanResponderGrant:function(t,n){e=z({},n)},onMoveShouldSetPanResponder:function(){return!0},onPanResponderMove:function(t,n){var r=-n.dx+e.dx,o=-n.dy+e.dy;e=z({},n),oe({deltaX:r,deltaY:o})}})}),[oe]);return Object(h.jsx)(v.Provider,{value:{onChangeColumn:g,onChangeRow:O,virtualColumns:$,virtualCells:B,virtualRows:_,coordinate:Z,containerSize:ee,updateCoordinate:oe,onChangeColumnOrder:Y,onChangeRowOrder:H},children:Object(h.jsxs)(c.a,z(z({ref:F,style:[l,{overflow:"hidden"}],onLayout:0===U?ne:re},ae.panHandlers),{},{children:[C&&Object(h.jsx)(r.Fragment,{children:$.current.map((function(e,t){return Object(h.jsx)(o.a.View,{style:{position:"absolute",width:1,backgroundColor:"#ccc",transform:[{translateX:o.a.add(e.xAnimated,Z.current.x)}],height:ee.current.y}},t)}))},"columns-"+U),J&&Object(h.jsx)(r.Fragment,{children:_.current.map((function(e,t){return Object(h.jsx)(o.a.View,{style:{position:"absolute",backgroundColor:"#ccc",transform:[{translateY:o.a.add(e.yAnimated,Z.current.y)}],width:ee.current.x,height:1}},t)}))},"rows-"+U),Object(h.jsx)(r.Fragment,{children:B.current.map((function(e,t){return Object(h.jsx)(p,{coordinate:Z.current,ref:e.ref,column:e.column,row:e.row,renderCell:f},t)}))},"cells-"+U)]}))})}var E=n(62);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=e.column,n=e.row,i=j(),a=i.virtualColumns,u=i.onChangeColumn,c=Object(r.useMemo)((function(){var e=[];return w.a.create({onPanResponderTerminate:function(e,t){},onPanResponderTerminationRequest:function(e,t){return!1},onPanResponderReject:function(){},onMoveShouldSetPanResponder:function(e,t){return!0},onPanResponderGrant:function(){t.widthAnimated.setOffset(t.width),e=[];for(var n,r=W(a.current);!(n=r()).done;){var o=n.value;o.columnIndex>t.columnIndex&&(e.push(o),o.xAnimated.setOffset(o.x))}},onPanResponderMove:function(n,r){for(var o,i=W(e);!(o=i()).done;){o.value.xAnimated.setValue(r.dx)}t.widthAnimated.setValue(r.dx),u(t)},onPanResponderRelease:function(){t.widthAnimated.flattenOffset();for(var n,r=W(e);!(n=r()).done;){n.value.xAnimated.flattenOffset()}e=[]}})}),[t,a,u]);return Object(h.jsx)(o.a.View,X(X({},c.panHandlers),{},{style:[{position:"absolute",top:0,right:0,zIndex:10,height:n.height,width:20}],children:Object(h.jsx)(E.a,{style:[{display:"flex",alignItems:"flex-end",height:n.height}],children:function(e){var t=e.hovered;return Object(h.jsx)(o.a.View,{style:[{height:n.heightAnimated,width:1,backgroundColor:"#ccc"},t&&{width:5,backgroundColor:"blue"}]})}})}))}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e){var t=e.column,n=e.row,i=e.children,a=j(),u=a.virtualColumns,c=a.onChangeColumnOrder,l=Object(r.useMemo)((function(){var e=0,n=null,r=0;return w.a.create({onPanResponderTerminate:function(e,t){},onPanResponderTerminationRequest:function(e,t){return!1},onPanResponderReject:function(){},onMoveShouldSetPanResponder:function(e,t){return!0},onPanResponderGrant:function(n){e=t.x+n.nativeEvent.locationX,r=t.columnIndex},onPanResponderMove:function(t,r){for(var o,i=L(u.current);!(o=i()).done;){var a=o.value,c=a.x+a.width/2;if(Math.abs(c-e-r.dx)<a.width/2){if(console.log("highlightcolumn",a.columnIndex),n===a)break;n&&n.highlightOpacityAnimated.setValue(0),(n=a).highlightOpacityAnimated.setValue(1);break}}},onPanResponderRelease:function(){n&&(n.highlightOpacityAnimated.setValue(0),r!==n.columnIndex&&c({fromIndex:r,toIndex:n.columnIndex}))}})}),[t,c,u]);return Object(h.jsx)(o.a.View,F(F({},l.panHandlers),{},{style:[{position:"absolute",zIndex:8,top:0,left:0,height:n.height,width:t.width}],children:i}))}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t=e.column,n=e.row,i=j(),a=i.virtualRows,u=i.onChangeRow,c=Object(r.useMemo)((function(){var e=[];return w.a.create({onPanResponderTerminate:function(e,t){},onPanResponderTerminationRequest:function(e,t){return!1},onPanResponderReject:function(){},onMoveShouldSetPanResponder:function(e,t){return!0},onPanResponderGrant:function(){n.heightAnimated.setOffset(n.height),e=[];for(var t,r=_(a.current);!(t=r()).done;){var o=t.value;o.rowIndex>n.rowIndex&&(e.push(o),o.yAnimated.setOffset(o.y))}},onPanResponderMove:function(t,r){for(var o,i=_(e);!(o=i()).done;){o.value.yAnimated.setValue(r.dy)}n.heightAnimated.setValue(r.dy),u(n)},onPanResponderRelease:function(){n.heightAnimated.flattenOffset();for(var t,r=_(e);!(t=r()).done;){t.value.yAnimated.flattenOffset()}e=[]}})}),[n,a,u]);return Object(h.jsx)(o.a.View,$($({},c.panHandlers),{},{style:[{position:"absolute",bottom:0,left:0,zIndex:10,height:20,width:t.width}],children:Object(h.jsx)(E.a,{style:[{display:"flex",justifyContent:"flex-end",width:t.width,height:20}],children:function(e){var n=e.hovered;return Object(h.jsx)(o.a.View,{style:[{width:t.widthAnimated,height:1,backgroundColor:"#ccc"},n&&{height:5,backgroundColor:"blue"}]})}})}))}function Q(){var e=Object(u.a)(),t=e.width,n=e.height,l=Object(r.useRef)(new Map),d=Object(r.useRef)(new Map),s=Object(r.useCallback)((function(e){l.current.set(""+e.columnIndex,e.width)}),[]),m=Object(r.useCallback)((function(e){d.current.set(""+e.rowIndex,e.height)}),[]),g=Object(r.useCallback)((function(e){console.log(e)}),[]);return Object(r.useLayoutEffect)((function(){"web"===i.a.OS&&(document.body.style.overflow="hidden")}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsx)(M,{columnCount:Number.MAX_SAFE_INTEGER,rowCount:Number.MAX_SAFE_INTEGER,freezedColumns:{start:1},freezedRows:{start:1},style:[{borderColor:"#fff",width:t,height:n-56},i.a.select({web:{userSelect:"none"}})],getColumnWidth:function(e){return l.current.has(""+e.columnIndex)?l.current.get(""+e.columnIndex):[50,140,200,120][e.columnIndex%4]},getRowHeight:function(e){return d.current.has(""+e.rowIndex)?d.current.get(""+e.rowIndex):[40,50,60,90,40,45,40,50,55,50,60][e.rowIndex%10]},onChangeColumn:s,onChangeColumnOrder:g,onChangeRow:m,renderCell:function(e){return Object(h.jsxs)(c.a,{style:{flex:1,backgroundColor:e.rowIndex%2===1?"rgb(246, 248, 250)":"#fff",borderTopWidth:1,borderLeftWidth:1,borderColor:"rgb(216, 222, 228)",padding:4,borderRightWidth:0===e.columnIndex?1:0,borderBottomWidth:0===e.rowIndex?1:0},children:[0===e.columnIndex&&0===e.rowIndex&&null,0===e.rowIndex&&e.columnIndex>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(U,{row:e.row,column:e.column,children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(a.a,{children:["c: ",e.columnIndex]}),Object(h.jsxs)(a.a,{children:["r: ",e.rowIndex]})]})}),Object(h.jsx)(T,{row:e.row,column:e.column})]}),0===e.columnIndex&&e.rowIndex>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(a.a,{children:["c: ",e.columnIndex]}),Object(h.jsxs)(a.a,{children:["r: ",e.rowIndex]})]}),Object(h.jsx)(K,{row:e.row,column:e.column})]}),e.columnIndex>0&&e.rowIndex>0&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(a.a,{children:["c: ",e.columnIndex]}),Object(h.jsxs)(a.a,{children:["r: ",e.rowIndex]})]}),Object(h.jsx)(o.a.View,{style:[{position:"absolute",left:0,top:-1,bottom:-1,width:2,backgroundColor:"blue",opacity:e.column.highlightOpacityAnimated},i.a.select({web:{pointerEvents:"none"}})]})]})}})]})}},111:function(e,t,n){e.exports=n(137)}},[[111,1,2]]]);
//# sourceMappingURL=app.b42a1cc1.chunk.js.map