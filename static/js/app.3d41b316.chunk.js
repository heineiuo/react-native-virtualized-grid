(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{90:function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var r=n(0),i=n(7),o=n(41),a=n(85),u=n(4),c=n(22),d=n.n(c),l=n(29),h=n.n(l),s=n(9),f=n(91),m=n(12),g=Object(r.forwardRef)((function(e,t){var n=e.renderCell,i=e.column,o=e.row,a=e.coordinate,u=Object(r.useState)({rowIndex:o.rowIndex,columnIndex:i.columnIndex}),c=h()(u,2),d=c[0],l=c[1];return Object(r.useImperativeHandle)(t,(function(){return{update:function(e){l(e)}}}),[]),Object(m.jsx)(s.a.View,{style:{position:"absolute",width:i.widthAnimated,zIndex:(i.freezed?1:0)+(o.freezed?1:0),height:o.heightAnimated,transform:[{translateX:i.freezed?i.xAnimated:s.a.add(i.xAnimated,a.x)},{translateY:o.freezed?o.yAnimated:s.a.add(o.yAnimated,a.y)}]},children:n(d)})})),w=n(16),x=n.n(w),y=n(17),v=n.n(y),b=(function(){function e(){var t=this;x()(this,e),this.move=function(e){var n=Math.min(0,Math.max(t.minX,t.x-e.deltaX)),r=Math.min(0,Math.max(t.minY,t.y-e.deltaY));t.xAnimated.setValue(n),t.yAnimated.setValue(r)},this.xAnimated=new s.a.Value(0),this.yAnimated=new s.a.Value(0),this.containerWidthAnimated=new s.a.Value(0),this.containerHeightAnimated=new s.a.Value(0),this.contentWidthAnimated=new s.a.Value(0),this.contentHeightAnimated=new s.a.Value(0),this.minXAnimated=s.a.subtract(this.containerWidthAnimated,this.contentWidthAnimated),this.minYAnimated=s.a.subtract(this.containerWidthAnimated,this.contentWidthAnimated)}v()(e,[{key:"minX",get:function(){return JSON.parse(JSON.stringify(this.minXAnimated))}},{key:"minY",get:function(){return JSON.parse(JSON.stringify(this.minYAnimated))}},{key:"x",get:function(){return JSON.parse(JSON.stringify(this.xAnimated))}},{key:"y",get:function(){return JSON.parse(JSON.stringify(this.yAnimated))}},{key:"contentWidth",get:function(){return JSON.parse(JSON.stringify(this.contentWidthAnimated))}},{key:"contentHeight",get:function(){return JSON.parse(JSON.stringify(this.contentHeightAnimated))}},{key:"containerWidth",get:function(){return JSON.parse(JSON.stringify(this.containerWidthAnimated))}},{key:"containerHeight",get:function(){return JSON.parse(JSON.stringify(this.containerHeightAnimated))}}])}(),function(){function e(t){var n=t.x,r=t.width,i=t.columnIndex,o=t.freezed,a=void 0!==o&&o;x()(this,e),this.xAnimated=new s.a.Value(n),this.widthAnimated=new s.a.Value(r),this.columnIndex=i,this.freezed=a}return v()(e,[{key:"x",get:function(){return JSON.parse(JSON.stringify(this.xAnimated))}},{key:"width",get:function(){return JSON.parse(JSON.stringify(this.widthAnimated))}}]),e}()),O=function(){function e(t){var n=t.y,r=t.height,i=t.rowIndex,o=t.freezed,a=void 0!==o&&o;x()(this,e),this.yAnimated=new s.a.Value(n),this.heightAnimated=new s.a.Value(r),this.rowIndex=i,this.freezed=a}return v()(e,[{key:"y",get:function(){return JSON.parse(JSON.stringify(this.yAnimated))}},{key:"height",get:function(){return JSON.parse(JSON.stringify(this.heightAnimated))}}]),e}(),p=function(){function e(t){var n=t.column,i=t.row;x()(this,e),this.column=n,this.row=i,this.ref=Object(r.createRef)()}return v()(e,[{key:"x",get:function(){return this.column.x}},{key:"y",get:function(){return this.row.y}},{key:"width",get:function(){return this.column.width}},{key:"height",get:function(){return this.row.height}}]),e}();function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){var t,n,o,a,c=e.style,d=e.columnCount,l=e.rowCount,w=e.renderCell,x=e.getColumnWidth,y=void 0===x?function(){return 100}:x,v=e.getRowHeight,I=void 0===v?function(){return 40}:v,S=e.showColumnLine,N=void 0!==S&&S,J=e.showRowLine,k=void 0!==J&&J,C=e.freezedColumns,V=void 0===C?{}:C,z=e.freezedRows,R=void 0===z?{}:z,X=Object(r.useRef)(null),W=Object(r.useState)(0),Y=h()(W,2),E=Y[0],M=Y[1],P=Object(r.useRef)([]),H=Object(r.useRef)([]),F=Object(r.useRef)([]),L=null!=(t=V.start)?t:0,T=(n=V.end,null!=(o=R.start)?o:0),D=(a=R.end,Object(r.useRef)(new s.a.ValueXY({x:0,y:0}))),_=Object(r.useRef)(new s.a.ValueXY({x:0,y:0})),G=Object(r.useCallback)((function(){for(var e=P.current[0],t=P.current[0],n=H.current[0],r=H.current[0],i=0;i<P.current.length;i++){var o=P.current[i];o.freezed||(e.freezed?e=o:(o.columnIndex<e.columnIndex&&(e=o),o.columnIndex>t.columnIndex&&(t=o)))}for(var a=0;a<H.current.length;a++){var u=H.current[a];u.freezed||(n.freezed?n=u:(u.rowIndex<n.rowIndex&&(n=u),u.rowIndex>r.rowIndex&&(r=u)))}return{minColumn:e,minRow:n,maxColumn:t,maxRow:r}}),[]),q=Object(r.useCallback)((function(e){var t,n,r=e.nativeEvent.layout;_.current.setValue({x:r.width,y:r.height});for(var i,o=0,a=0,u=A(P.current);!(i=u()).done;){o+=i.value.width}for(var c,d=A(H.current);!(c=d()).done;){a+=c.value.height}for(var l=G(),h=l.maxRow,s=l.maxColumn,f=null!=(t=null==h?void 0:h.rowIndex)?t:-1;a<r.height;){f++;var m=I({rowIndex:f});if(a+=m,0===H.current.length)H.current.push(new O({y:0,height:m,rowIndex:f,freezed:f<T}));else{var g=H.current[H.current.length-1];H.current.push(new O({y:g.y+g.height,height:m,rowIndex:f,freezed:f<T}))}}for(var w=null!=(n=null==s?void 0:s.columnIndex)?n:-1;o<r.width;){w++;var x=y({columnIndex:w});if(o+=x,0===P.current.length)P.current.push(new b({x:0,width:x,columnIndex:w,freezed:w<L}));else{var v=P.current[P.current.length-1];P.current.push(new b({width:x,x:v.x+v.width,columnIndex:w,freezed:w<L}))}}for(var j=T+1;j>0;){f++;var S=I({rowIndex:f}),N=H.current[H.current.length-1];H.current.push(new O({y:N.y+N.height,height:S,rowIndex:f})),j--}for(var J=L+1;J>0;){w++;var k=P.current[P.current.length-1],C=y({columnIndex:w});P.current.push(new b({width:C,x:k.x+k.width,columnIndex:w})),J--}F.current=[];for(var V=0;V<H.current.length;V++)for(var z=H.current[V],R=0;R<P.current.length;R++){var X=P.current[R];F.current.push(new p({column:X,row:z}))}M((function(e){return e+1}))}),[y,I,G,L,T]),B=Object(r.useCallback)((function(e){var t=JSON.parse(JSON.stringify(D.current)),n=t.x,r=t.y,i=JSON.parse(JSON.stringify(_.current)),o=i.x,a=i.y,u=!1,c={deltaX:0,deltaY:0},h=G(),s=h.minColumn,f=h.maxColumn,m=h.minRow,g=h.maxRow,w=e.deltaX,x=e.deltaY,v=f.columnIndex,b=f.x+f.width+n-o,O=g.rowIndex,p=g.y+g.height+r-a;if(w>0){for(;w>b&&v!==d;){if(++v-f.columnIndex>=P.current.length-2){u=!0;break}b+=y({columnIndex:v})}w=Math.min(b,w),u&&(c.deltaX=e.deltaX-w)}if(x>0){for(;x>p&&O!==l;){if(++O-g.rowIndex>=H.current.length-2){u=!0;break}p+=I({rowIndex:O})}x=Math.min(p,x),u&&(c.deltaY=e.deltaY-x)}n-w>0&&(w=n),r-x>0&&(x=r);var j=n-w,S=r-x;D.current.setValue({x:j,y:S});var N=[],J=[],k=[];if(w>0){for(var C=0;C<P.current.length;C++){var V=P.current[C];!V.freezed&&V.x+j+V.width<L&&N.push(V)}if(N.length===P.current.length&&console.error("This shoud not happen"),N.length>0)for(var z=0;z<N.length;z++){var R=N[z];R.xAnimated.setValue(f.x+f.width),R.columnIndex=f.columnIndex+1;var X=y(R);R.widthAnimated.setValue(X),f=R}}if(w<0){for(var W=0;W<P.current.length;W++){var Y=P.current[W],E=Y.x;!Y.freezed&&E+j>o&&N.unshift(Y)}if(N.length>0)for(var M=0;M<N.length&&0!==s.columnIndex;M++){var q=N[M];q.columnIndex=s.columnIndex-1;var U=y(q);q.widthAnimated.setValue(U),q.xAnimated.setValue(s.x-U),s=q}}if(x>0){for(var $=0;$<H.current.length;$++){var K=H.current[$];!K.freezed&&K.y+S+K.height<T&&J.push(K)}if(J.length===H.current.length&&console.error("Warning: This shoud not happen"),J.length>0)for(var Q=0;Q<J.length;Q++){var Z=J[Q];Z.rowIndex=g.rowIndex+1,Z.yAnimated.setValue(g.y+g.height);var ee=I(Z);Z.heightAnimated.setValue(ee),g=Z}}if(x<0){for(var te=0;te<H.current.length;te++){var ne=H.current[te];!ne.freezed&&ne.y+S>a&&J.unshift(ne)}if(J.length>0)for(var re=0;re<J.length&&0!==m.rowIndex;re++){var ie=J[re];ie.rowIndex=m.rowIndex-1;var oe=I(ie);ie.heightAnimated.setValue(oe),ie.yAnimated.setValue(m.y-ie.height),m=ie}}for(var ae=0;ae<F.current.length;ae++){var ue=F.current[ae];k.includes(ue)||(N.includes(ue.column)||J.includes(ue.row))&&k.push(ue)}if(!u)for(var ce,de=A(k);!(ce=de()).done;){var le=ce.value;le.ref.current.update({rowIndex:le.row.rowIndex,columnIndex:le.column.columnIndex})}u&&requestAnimationFrame((function(){B(c)}))}),[y,G,d,l,I,L,T]),U=Object(r.useCallback)((function(e){var t=e.deltaX,n=e.deltaY;B({deltaX:t,deltaY:n})}),[B]);Object(r.useEffect)((function(){if("web"===i.a.OS){var e=X.current;return e.addEventListener("wheel",U),function(){e.removeEventListener("wheel",U)}}}),[U]);var $=Object(r.useMemo)((function(){var e=null;return f.a.create({onPanResponderGrant:function(t,n){e=j({},n)},onMoveShouldSetPanResponder:function(){return!0},onPanResponderMove:function(t,n){var r=-n.dx+e.dx,i=-n.dy+e.dy;e=j({},n),B({deltaX:r,deltaY:i})}})}),[B]);return Object(m.jsxs)(u.a,j(j({ref:X,style:[c,{overflow:"hidden"}],onLayout:q},$.panHandlers),{},{children:[N&&Object(m.jsx)(r.Fragment,{children:P.current.map((function(e,t){return Object(m.jsx)(s.a.View,{style:{position:"absolute",width:1,backgroundColor:"#ccc",transform:[{translateX:s.a.add(e.xAnimated,D.current.x)}],height:_.current.y}},t)}))},"columns-"+E),k&&Object(m.jsx)(r.Fragment,{children:H.current.map((function(e,t){return Object(m.jsx)(s.a.View,{style:{position:"absolute",backgroundColor:"#ccc",transform:[{translateY:s.a.add(e.yAnimated,D.current.y)}],width:_.current.x,height:1}},t)}))},"rows-"+E),Object(m.jsx)(r.Fragment,{children:F.current.map((function(e,t){return Object(m.jsx)(g,{coordinate:D.current,ref:e.ref,column:e.column,row:e.row,renderCell:w},t)}))},"cells-"+E)]}))}function J(){var e=Object(a.a)(),t=e.width,n=e.height;return Object(r.useLayoutEffect)((function(){"web"===i.a.OS&&(document.body.style.overflow="hidden")}),[]),Object(m.jsx)(N,{columnCount:Number.MAX_SAFE_INTEGER,rowCount:Number.MAX_SAFE_INTEGER,freezedColumns:{start:1},freezedRows:{start:1},style:[{borderColor:"#fff",width:t,height:n},i.a.select({web:{userSelect:"none"}})],getColumnWidth:function(e){return[50,140,200,120][e.columnIndex%4]},getRowHeight:function(e){return[40,50,60,90,40,45,40,50,55,50,60][e.rowIndex%10]},renderCell:function(e){return Object(m.jsx)(u.a,{style:{flex:1,backgroundColor:e.rowIndex%2===1?"rgb(246, 248, 250)":"#fff",borderTopWidth:1,borderLeftWidth:1,borderColor:"rgb(216, 222, 228)",padding:4,borderRightWidth:0===e.columnIndex?1:0,borderBottomWidth:0===e.rowIndex?1:0},children:0===e.columnIndex&&0===e.rowIndex?null:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(o.a,{children:["c: ",e.columnIndex]}),Object(m.jsxs)(o.a,{children:["r: ",e.rowIndex]})]})})}})}},92:function(e,t,n){e.exports=n(117)}},[[92,1,2]]]);
//# sourceMappingURL=app.3d41b316.chunk.js.map